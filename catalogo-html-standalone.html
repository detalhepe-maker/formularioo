<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalhe Etiquetas & Tal - Cat√°logo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-cyan-50 via-orange-50 to-cyan-100 min-h-screen">
    
    <!-- Header -->
    <div class="bg-gradient-to-r from-cyan-500 to-orange-400 text-white p-6 shadow-xl">
        <div class="max-w-6xl mx-auto">
            <div class="flex justify-between items-center flex-wrap gap-4">
                <div class="flex items-center gap-4">
                    <!-- 
                        INSTRU√á√ïES PARA ADICIONAR SUA LOGO:
                        
                        1. Fa√ßa upload da logo no Imgur.com
                        2. Clique com bot√£o direito na imagem > "Copiar endere√ßo da imagem"
                        3. Cole o link abaixo substituindo "SUA_LOGO_AQUI.png"
                        
                        Exemplo final:
                        <img src="https://i.imgur.com/abc123.png" alt="Detalhe Etiquetas" class="h-16 w-auto">
                    -->
                    <div class="bg-white rounded-xl p-3 shadow-lg">
                        <img src="SUA_LOGO_AQUI.png" alt="Detalhe Etiquetas" class="h-16 w-auto">
                    </div>
                    <div>
                        <h1 class="text-3xl md:text-4xl font-bold">DETALHE</h1>
                        <p class="text-lg md:text-xl italic">etiquetas & tal</p>
                    </div>
                </div>
                <button id="btnAdmin" class="bg-white text-cyan-600 px-4 py-2 rounded-lg font-semibold hover:bg-cyan-50 transition shadow-md">
                    ‚öôÔ∏è <span id="adminText">Gerenciar</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Container Principal -->
    <div class="max-w-6xl mx-auto p-4 md:p-6">
        
        <!-- Bot√£o Voltar -->
        <button id="btnVoltar" class="hidden mb-4 bg-white px-4 py-2 rounded-lg shadow hover:shadow-md transition text-cyan-700 font-semibold">
            ‚Üê Voltar para todos os temas
        </button>

        <!-- Filtros (Modo Cliente) -->
        <div id="filtrosContainer" class="bg-white rounded-xl shadow-lg p-6 mb-6">
            <h2 class="text-xl font-bold mb-4 text-gray-800">Escolha a categoria:</h2>
            <div class="flex flex-wrap gap-3" id="filtros"></div>
        </div>

        <!-- Painel Admin - Adicionar Tema -->
        <div id="adminAddTema" class="hidden bg-white rounded-xl shadow-lg p-6 mb-6 border-2 border-orange-400">
            <h2 class="text-2xl font-bold mb-4 text-orange-600">‚ûï Adicionar Novo Tema</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                <input type="text" id="novoTema_nome" placeholder="Nome do tema *" class="border-2 border-gray-300 rounded-lg px-4 py-2 focus:border-orange-400 outline-none">
                <input type="text" id="novoTema_emoji" placeholder="Emoji (ex: üé®) *" class="border-2 border-gray-300 rounded-lg px-4 py-2 focus:border-orange-400 outline-none">
                <input type="text" id="novoTema_descricao" placeholder="Descri√ß√£o" class="border-2 border-gray-300 rounded-lg px-4 py-2 focus:border-orange-400 outline-none">
                <select id="novoTema_categoria" class="border-2 border-gray-300 rounded-lg px-4 py-2 focus:border-orange-400 outline-none">
                    <option value="meninas">Meninas</option>
                    <option value="meninos">Meninos</option>
                    <option value="neutro">Neutro</option>
                </select>
            </div>
            <button id="btnAdicionarTema" class="bg-gradient-to-r from-orange-400 to-orange-500 text-white px-6 py-3 rounded-lg font-semibold hover:from-orange-500 hover:to-orange-600 transition shadow-md">
                ‚ûï Adicionar Tema
            </button>
            <p class="text-sm text-gray-500 mt-3">üí° Depois de criar o tema, clique nele para adicionar os modelos!</p>
        </div>

        <!-- Painel Admin - Adicionar Modelo -->
        <div id="adminAddModelo" class="hidden bg-white rounded-xl shadow-lg p-6 mb-6 border-2 border-cyan-500">
            <h3 class="text-xl font-bold mb-4 text-cyan-700">‚ûï Adicionar Modelo</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                <input type="text" id="novoModelo_nome" placeholder="Nome do modelo (ex: Modelo 1) *" class="border-2 border-gray-300 rounded-lg px-4 py-2 focus:border-cyan-500 outline-none">
                <input type="text" id="novoModelo_url" placeholder="URL da imagem" class="border-2 border-gray-300 rounded-lg px-4 py-2 focus:border-cyan-500 outline-none">
                <input type="text" id="novoModelo_descricao" placeholder="Descri√ß√£o do modelo" class="border-2 border-gray-300 rounded-lg px-4 py-2 focus:border-cyan-500 outline-none md:col-span-2">
            </div>
            <button id="btnAdicionarModelo" class="bg-gradient-to-r from-cyan-500 to-cyan-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-cyan-600 hover:to-cyan-700 transition shadow-md">
                ‚ûï Adicionar Modelo
            </button>
        </div>

        <!-- √Årea de Conte√∫do -->
        <div id="conteudo" class="bg-white rounded-xl shadow-lg p-6"></div>

        <!-- Footer WhatsApp -->
        <div class="bg-gradient-to-r from-green-500 to-green-600 text-white rounded-xl shadow-xl p-6 mt-6 text-center">
            <h3 class="text-2xl md:text-3xl font-bold mb-2">üí¨ Gostou de algum modelo?</h3>
            <p class="mb-4 text-lg">Entre em contato e fa√ßa seu pedido!</p>
            <a href="https://wa.me/5581996156670?text=Ol√°! Vi o cat√°logo de etiquetas e gostaria de fazer um or√ßamento üòä" 
               target="_blank" 
               class="inline-block bg-white text-green-600 px-8 py-4 rounded-full font-bold text-lg hover:bg-green-50 transition transform hover:scale-105 shadow-lg">
                üì± Chamar no WhatsApp
            </a>
            <div class="mt-6 text-sm opacity-90 space-y-1">
                <p>üìç Rua Vig√°rio Barreto, 122 - sala 102</p>
                <p>Espinheiro - Recife/PE</p>
                <p>üìß detalhe.pe@gmail.com</p>
                <p class="mt-2">üì± (81) 99615-6670</p>
            </div>
        </div>
    </div>

    <script>
        // Estado da aplica√ß√£o
        let temas = [];
        let filtroAtual = 'todos';
        let modoAdmin = false;
        let temaSelecionado = null;

        // Carregar dados do localStorage
        function carregarDados() {
            const dados = localStorage.getItem('detalhe-etiquetas-temas');
            if (dados) {
                temas = JSON.parse(dados);
            } else {
                // Dados iniciais
                temas = [
                    { id: 1, nome: 'Unic√≥rnios', emoji: 'ü¶Ñ', descricao: 'M√°gicos e encantadores', categoria: 'meninas', modelos: [
                        { id: 1, nome: 'Modelo 1', urlImagem: '', descricao: 'Unic√≥rnio colorido com arco-√≠ris' },
                        { id: 2, nome: 'Modelo 2', urlImagem: '', descricao: 'Unic√≥rnio rosa com estrelas' }
                    ]},
                    { id: 2, nome: 'Dinossauros', emoji: 'ü¶ñ', descricao: 'Pr√©-hist√≥ricos e legais', categoria: 'meninos', modelos: [
                        { id: 1, nome: 'Modelo 1', urlImagem: '', descricao: 'T-Rex verde' }
                    ]},
                    { id: 3, nome: 'Animais', emoji: 'üêº', descricao: 'Fofos e divertidos', categoria: 'neutro', modelos: [] }
                ];
                salvarDados();
            }
        }

        function salvarDados() {
            localStorage.setItem('detalhe-etiquetas-temas', JSON.stringify(temas));
        }

        function renderizar() {
            if (temaSelecionado) {
                renderizarModelos();
            } else {
                renderizarTemas();
            }
        }

        function renderizarFiltros() {
            const filtros = [
                { valor: 'todos', label: 'Todos os Temas', cor: 'from-cyan-500 to-orange-400', count: temas.length },
                { valor: 'meninas', label: 'üíñ Meninas', cor: 'from-pink-400 to-pink-500', count: temas.filter(t => t.categoria === 'meninas').length },
                { valor: 'meninos', label: 'üíô Meninos', cor: 'from-blue-400 to-blue-500', count: temas.filter(t => t.categoria === 'meninos').length },
                { valor: 'neutro', label: 'üé® Neutro', cor: 'from-green-400 to-green-500', count: temas.filter(t => t.categoria === 'neutro').length }
            ];

            document.getElementById('filtros').innerHTML = filtros.map(f => `
                <button onclick="filtroAtual='${f.valor}'; renderizar();" 
                        class="px-6 py-3 rounded-lg font-semibold text-white transition transform hover:scale-105 shadow-md bg-gradient-to-r ${
                            filtroAtual === f.valor ? f.cor + ' ring-4 ring-offset-2 ring-cyan-300' : 'bg-gray-300'
                        }">
                    ${f.label} (${f.count})
                </button>
            `).join('');
        }

        function renderizarTemas() {
            document.getElementById('btnVoltar').classList.add('hidden');
            document.getElementById('filtrosContainer').classList.toggle('hidden', modoAdmin);
            document.getElementById('adminAddTema').classList.toggle('hidden', !modoAdmin);
            document.getElementById('adminAddModelo').classList.add('hidden');

            if (!modoAdmin) renderizarFiltros();

            const temasFiltrados = temas
                .filter(t => filtroAtual === 'todos' || t.categoria === filtroAtual)
                .sort((a, b) => a.nome.localeCompare(b.nome));

            const titulo = filtroAtual === 'todos' ? 'üé® Todos os Temas' :
                          filtroAtual === 'meninas' ? 'üíñ Temas para Meninas' :
                          filtroAtual === 'meninos' ? 'üíô Temas para Meninos' : 'üé® Temas Neutros';

            document.getElementById('conteudo').innerHTML = `
                <h2 class="text-2xl font-bold mb-6 text-gray-800">
                    ${titulo}
                    <span class="text-lg text-gray-500 ml-2">(${temasFiltrados.length} temas)</span>
                </h2>
                <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
                    ${temasFiltrados.map(tema => {
                        const bgColor = tema.categoria === 'meninas' ? 'from-pink-50 to-pink-100 border-pink-300' :
                                       tema.categoria === 'meninos' ? 'from-blue-50 to-blue-100 border-blue-300' :
                                       'from-green-50 to-green-100 border-green-300';
                        return `
                            <div onclick="${modoAdmin ? '' : `selecionarTema(${tema.id})`}" 
                                 class="relative rounded-xl p-4 text-center transition transform hover:scale-105 hover:shadow-2xl ${modoAdmin ? '' : 'cursor-pointer'} border-2 bg-gradient-to-br ${bgColor}">
                                <div class="text-5xl md:text-6xl mb-3">${tema.emoji}</div>
                                <h3 class="font-bold text-base md:text-lg text-gray-800">${tema.nome}</h3>
                                <p class="text-xs md:text-sm text-gray-600 mt-1">${tema.descricao}</p>
                                <p class="text-xs text-gray-500 mt-2 font-semibold">${tema.modelos?.length || 0} modelo(s)</p>
                                ${!modoAdmin ? '<div class="mt-2 flex items-center justify-center gap-1 text-cyan-600 font-semibold text-sm">Ver modelos ‚Üí</div>' : ''}
                                ${modoAdmin ? `
                                    <div class="flex gap-2 justify-center mt-3">
                                        <button onclick="selecionarTema(${tema.id})" class="bg-cyan-500 text-white p-2 rounded-lg hover:bg-cyan-600 flex-1 shadow">üñºÔ∏è</button>
                                        <button onclick="removerTema(${tema.id})" class="bg-red-500 text-white p-2 rounded-lg hover:bg-red-600 shadow">üóëÔ∏è</button>
                                    </div>
                                ` : ''}
                            </div>
                        `;
                    }).join('')}
                </div>
            `;
        }

        function renderizarModelos() {
            const tema = temas.find(t => t.id === temaSelecionado);
            if (!tema) return;

            document.getElementById('btnVoltar').classList.remove('hidden');
            document.getElementById('filtrosContainer').classList.add('hidden');
            document.getElementById('adminAddTema').classList.add('hidden');
            document.getElementById('adminAddModelo').classList.toggle('hidden', !modoAdmin);

            const catColor = tema.categoria === 'meninas' ? 'bg-pink-200 text-pink-800' :
                           tema.categoria === 'meninos' ? 'bg-blue-200 text-blue-800' :
                           'bg-green-200 text-green-800';

            const catLabel = tema.categoria === 'meninas' ? 'üíñ Meninas' :
                           tema.categoria === 'meninos' ? 'üíô Meninos' : 'üé® Neutro';

            document.getElementById('conteudo').innerHTML = `
                <div class="bg-white rounded-xl shadow-md p-6 mb-6">
                    <div class="flex items-center gap-4 flex-wrap">
                        <div class="text-5xl md:text-6xl">${tema.emoji}</div>
                        <div class="flex-1">
                            <h2 class="text-2xl md:text-3xl font-bold text-gray-800">${tema.nome}</h2>
                            <p class="text-gray-600 mt-1">${tema.descricao}</p>
                            <span class="inline-block mt-2 px-3 py-1 rounded-full text-sm font-semibold ${catColor}">${catLabel}</span>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-md p-6">
                    <h3 class="text-2xl font-bold mb-6 text-gray-800">üñºÔ∏è Modelos Dispon√≠veis (${tema.modelos?.length || 0})</h3>
                    ${!tema.modelos || tema.modelos.length === 0 ? `
                        <div class="text-center py-12 bg-gray-50 rounded-lg">
                            <div class="text-6xl mb-3">üì∑</div>
                            <p class="text-gray-500 text-lg">Nenhum modelo cadastrado ainda.</p>
                            ${modoAdmin ? '<p class="text-gray-400 mt-2">Adicione o primeiro modelo acima!</p>' : ''}
                        </div>
                    ` : `
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            ${tema.modelos.map(modelo => `
                                <div class="border-2 border-cyan-200 rounded-xl p-4 hover:shadow-xl transition bg-gradient-to-br from-white to-cyan-50">
                                    ${modelo.urlImagem ? 
                                        `<img src="${modelo.urlImagem}" alt="${modelo.nome}" class="w-full h-48 object-cover rounded-lg mb-3 shadow">` :
                                        `<div class="w-full h-48 bg-gradient-to-br from-cyan-100 to-orange-100 rounded-lg mb-3 flex items-center justify-center shadow-inner">
                                            <span class="text-6xl">üì∑</span>
                                        </div>`
                                    }
                                    <h4 class="font-bold text-lg text-gray-800">${modelo.nome}</h4>
                                    ${modelo.descricao ? `<p class="text-sm text-gray-600 mt-1">${modelo.descricao}</p>` : ''}
                                    ${modoAdmin ? `
                                        <button onclick="removerModelo(${tema.id}, ${modelo.id})" 
                                                class="w-full mt-3 bg-red-500 text-white p-2 rounded-lg hover:bg-red-600 transition shadow">
                                            üóëÔ∏è Remover
                                        </button>
                                    ` : ''}
                                </div>
                            `).join('')}
                        </div>
                    `}
                </div>
            `;
        }

        function selecionarTema(id) {
            temaSelecionado = id;
            renderizar();
        }

        function removerTema(id) {
            if (confirm('Tem certeza? Isso remover√° o tema e todos os seus modelos!')) {
                temas = temas.filter(t => t.id !== id);
                salvarDados();
                renderizar();
            }
        }

        function removerModelo(temaId, modeloId) {
            if (confirm('Remover este modelo?')) {
                const tema = temas.find(t => t.id === temaId);
                if (tema) {
                    tema.modelos = tema.modelos.filter(m => m.id !== modeloId);
                    salvarDados();
                    renderizar();
                }
            }
        }

        // Event Listeners
        document.getElementById('btnAdmin').addEventListener('click', () => {
            modoAdmin = !modoAdmin;
            document.getElementById('adminText').textContent = modoAdmin ? 'Modo Cliente' : 'Gerenciar';
            temaSelecionado = null;
            renderizar();
        });

        document.getElementById('btnVoltar').addEventListener('click', () => {
            temaSelecionado = null;
            renderizar();
        });

        document.getElementById('btnAdicionarTema').addEventListener('click', () => {
            const nome = document.getElementById('novoTema_nome').value;
            const emoji = document.getElementById('novoTema_emoji').value;
            const descricao = document.getElementById('novoTema_descricao').value;
            const categoria = document.getElementById('novoTema_categoria').value;

            if (!nome || !emoji) {
                alert('Preencha pelo menos o nome e o emoji!');
                return;
            }

            const novoId = Math.max(...temas.map(t => t.id), 0) + 1;
            temas.push({ id: novoId, nome, emoji, descricao, categoria, modelos: [] });
            salvarDados();
            
            document.getElementById('novoTema_nome').value = '';
            document.getElementById('novoTema_emoji').value = '';
            document.getElementById('novoTema_descricao').value = '';
            
            renderizar();
        });

        document.getElementById('btnAdicionarModelo').addEventListener('click', () => {
            if (!temaSelecionado) return;

            const nome = document.getElementById('novoModelo_nome').value;
            const urlImagem = document.getElementById('novoModelo_url').value;
            const descricao = document.getElementById('novoModelo_descricao').value;

            if (!nome) {
                alert('Digite o nome do modelo!');
                return;
            }

            const tema = temas.find(t => t.id === temaSelecionado);
            if (tema) {
                const novoId = Math.max(...(tema.modelos?.map(m => m.id) || [0]), 0) + 1;
                if (!tema.modelos) tema.modelos = [];
                tema.modelos.push({ id: novoId, nome, urlImagem, descricao });
                salvarDados();
                
                document.getElementById('novoModelo_nome').value = '';
                document.getElementById('novoModelo_url').value = '';
                document.getElementById('novoModelo_descricao').value = '';
                
                renderizar();
            }
        });

        // Inicializar
        carregarDados();
        renderizar();
    </script>
</body>
</html>